<html>
  <head>
    <meta charset="UTF-8">
    <script src="bologne.js"></script>
  </head>
<body>
  <div>
    <label for="time">Temps max :</label>
    <input type="text" id="time" value="3000"/> ms
  </div>
  <div>
    <label>Formes à placer :</label> <input type="button" onclick="addword()" value="+"/>
    <div id="words"></div>
  </div>
  <input type="button" onclick="generate()" value="generate"/>

  <div id="result">
  </div>

  <script>
    function addword(){
      document.getElementById('words').insertAdjacentHTML('beforeend','<input type="text" class="word" value=""/>' );
    }

    function generate(){
      var words = document.querySelectorAll(".word");
      var word_list = [];
      for (var i = words.length - 1; i >= 0; i--) {
        word_list.push(words[i].value);
      };
      var results = "";
      var time = document.getElementById("time").value;
      var generator = Generator();
      var best = new generator(4, word_list, time).run();


      
      results += "<hr/><table style='text-align:center' border='1'>";
      for (var i = best.grid.length - 1; i >= 0; i--) {
        results += "<tr style='height:50px;'>";

        for (var j = best.grid[i].length - 1; j >= 0; j--) {
          results += "<td style='width:50px;'>";
          results += best.grid[i][j];
          results += "</td>";
        };
        results += "</tr>";
      };
      results += "</table>";

      results += "<br/>";
      results += best.total;
      results += " mots/";
      results += word_list.length;
    
      results += "<br/>";
      results += best.candidateCount +" générations de grille en "+time+" ms";

      document.getElementById('result').innerHTML = results;
    }
  </script>
</body>
</html>
